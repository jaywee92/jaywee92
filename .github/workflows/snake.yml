name: Generate GitHub Contribution Grid Snake Animation

on:
  schedule:
    - cron: '0 0 * * *'
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  generate:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - uses: actions/checkout@v4
      
      - name: Generate contribution graph
        run: |
          mkdir -p output
          # Create a simple contribution placeholder
          cat > output/github-contribution-grid-snake-dark.svg << 'EOF'
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="200">
  <rect width="800" height="200" fill="#0d1117"/>
  <text x="400" y="100" fill="#00e9ff" font-family="Arial" font-size="18" text-anchor="middle">
    Check my contributions at github.com/jaywee92
  </text>
</svg>
EOF
          cp output/github-contribution-grid-snake-dark.svg output/github-contribution-grid-snake.svg
      
      - name: Push
        run: |
          git config user.email "jochenwahl92@gmail.com"
          git config user.name "GitHub Action"
          git add -A
          git commit -m "Update contribution graph" || exit 0
          git push